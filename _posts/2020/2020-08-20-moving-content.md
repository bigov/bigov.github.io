---
layout: post
title:  "Переезд на GitHub"
date:   2020-08-20 12:59:0 +0900
categories: site content
---

Как всегда, _внезапно_ и _по непонятной причине_ сайт проекта снова заглючил. Не спасло то, что для управления контентом использовалась _ОченьПопулярнаяКрутаяCMS_. На восстановление работы пришлось потратить пару часов. Стало очевидно, что пришло время обновиться. Как выяснилось, последняя версия моей `CMS` у разработчика опережает используемую на сайте уже на два "поколения" (в смысле минорного номера версии). Апгрейд оказался технически невозможен, попытка мигрировать занчилась провалом - оказалось, что работа движка завязана на конкретную версию `РНР`, а используемая на моем сайте база данных `в формате sqlite` больше не поддерживается в новых версиях `CMS`. Вопрос "встал ребром" - продолжать пользоваться устаревшей версией `CMS`, рискуя устойчивостью и надежностью, или искать другие варианты.

Несколько попыток мигрировать в "автоматическом" режиме оказались безуспешными. Остался только один вариант - перенос контента "вручную". Не хотелось больше использовать такой капризный в работе инструмент, поэтому начались поиски чего-то более гибкого и простого. А тут еще очень удачно "подвернулся" [GitHub] со своим бесплатным хостингом для репозиториев. Поэтому решение получилось достаточно "радикальное".

## Установка Jekyll

На хостинге [GitHub] для формирования страниц используется `Jekyll` - софт на платформе `Ruby`. Я до этого еще никогда не работал с `Ruby`, поэтому для его установки в среде `MS-Windows` использовал упрощенный вариант - [rubyinstaller2].

С репозитория [rubyinstaller2] загружаем и устанавливаем свежий релиз комплекта `rubyinstaller + devkit`. Соглашаемся на предложение инсталятора установить `MSYS2` (я пытался использовать уже установленный у меня в системе, но "что-то идет не так" - пакеты не собираются). Команду `ridk install` пока не выполняем - вначале надо [обновить среду `MSYS2`][msys2-update]. Когда я этим занимался, то у меня возникли сложности с обновлением сертификатов - как с этим бороться я описал на странице [Обновление MSYS2][msys2-update].

После обновления `MSYS2` можно настроить пакет разработчика и устанавить `Jekyll` как написано в [Jekyll Quickstart][jekyll-docs]. Для этого переходим в папку `ruby-installer\bin>` и выполняем:

- `...\bin> ridk install`
- `...\bin> gem update`
- `...\bin> gem install jekyll bundler`

Для работы с сайтом клонируем с `Github` репозиторий своего сайта, переходим в его рабочий каталог и выполняем:

- `...github.io> bundle update`
- `...github.io> bundle exec jekyll serve`

Дополнительную информацию можно найти на сайте проекта: [Jekyll docs][jekyll-docs]. Репозиторий проекта расположен на [Jekyll’s GitHub repo][jekyll-gh]. Вопросы можно задать на форуме: [Jekyll Talk][jekyll-talk].

[jekyll-docs]: https://jekyllrb.com/docs/home
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/
[GitHub]: https://pages.github.com
[rubyinstaller2]: https://github.com/oneclick/rubyinstaller2/releases
[msys2-update]: /site/content/2020/08/25/msys2-update.html
